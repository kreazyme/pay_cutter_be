{"version":3,"sources":["../../src/controllers/users.controller.ts"],"sourcesContent":["import { NextFunction, Request, Response } from 'express';\r\nimport { Container } from 'typedi';\r\nimport { User } from '@interfaces/users.interface';\r\nimport { UserService } from '@services/users.service';\r\n\r\nexport class UserController {\r\n  public user = Container.get(UserService);\r\n\r\n  public getUsers = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\r\n    try {\r\n      const findAllUsersData: User[] = await this.user.findAllUser();\r\n\r\n      res.status(200).json({ data: findAllUsersData, message: 'findAll' });\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  };\r\n\r\n  public getUserById = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\r\n    try {\r\n      const userId = Number(req.params.id);\r\n      const findOneUserData: User = await this.user.findUserById(userId);\r\n\r\n      res.status(200).json({ data: findOneUserData, message: 'findOne' });\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  };\r\n\r\n  public createUser = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\r\n    try {\r\n      const userData: User = req.body;\r\n      const createUserData: User = await this.user.createUser(userData);\r\n\r\n      res.status(201).json(createUserData);\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  };\r\n\r\n  public updateUser = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\r\n    try {\r\n      const userId = Number(req.params.id);\r\n      const userData: User = req.body;\r\n      const updateUserData: User = await this.user.updateUser(userId, userData);\r\n\r\n      res.status(200).json({ data: updateUserData, message: 'updated' });\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  };\r\n\r\n  public deleteUser = async (req: Request, res: Response, next: NextFunction): Promise<void> => {\r\n    try {\r\n      const userId = Number(req.params.id);\r\n      const deleteUserData: User = await this.user.deleteUser(userId);\r\n\r\n      res.status(200).json({ data: deleteUserData, message: 'deleted' });\r\n    } catch (error) {\r\n      next(error);\r\n    }\r\n  };\r\n}\r\n"],"names":["UserController","user","Container","get","UserService","getUsers","req","res","next","findAllUsersData","findAllUser","status","json","data","message","error","getUserById","userId","Number","params","id","findOneUserData","findUserById","createUser","userData","body","createUserData","updateUser","updateUserData","deleteUser","deleteUserData"],"mappings":";;;;+BAKaA;;aAAAA;;wBAJa;8BAEE;;;;;;;;;;;;;;AAErB,IAAA,AAAMA,iBAAN,MAAMA;;QACX,uBAAOC,QAAOC,iBAAS,CAACC,GAAG,CAACC,yBAAW;QAEvC,uBAAOC,YAAW,OAAOC,KAAcC,KAAeC,OAAsC;YAC1F,IAAI;gBACF,MAAMC,mBAA2B,MAAM,IAAI,CAACR,IAAI,CAACS,WAAW;gBAE5DH,IAAII,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMJ;oBAAkBK,SAAS;gBAAU;YACpE,EAAE,OAAOC,OAAO;gBACdP,KAAKO;YACP;QACF;QAEA,uBAAOC,eAAc,OAAOV,KAAcC,KAAeC,OAAsC;YAC7F,IAAI;gBACF,MAAMS,SAASC,OAAOZ,IAAIa,MAAM,CAACC,EAAE;gBACnC,MAAMC,kBAAwB,MAAM,IAAI,CAACpB,IAAI,CAACqB,YAAY,CAACL;gBAE3DV,IAAII,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMQ;oBAAiBP,SAAS;gBAAU;YACnE,EAAE,OAAOC,OAAO;gBACdP,KAAKO;YACP;QACF;QAEA,uBAAOQ,cAAa,OAAOjB,KAAcC,KAAeC,OAAsC;YAC5F,IAAI;gBACF,MAAMgB,WAAiBlB,IAAImB,IAAI;gBAC/B,MAAMC,iBAAuB,MAAM,IAAI,CAACzB,IAAI,CAACsB,UAAU,CAACC;gBAExDjB,IAAII,MAAM,CAAC,KAAKC,IAAI,CAACc;YACvB,EAAE,OAAOX,OAAO;gBACdP,KAAKO;YACP;QACF;QAEA,uBAAOY,cAAa,OAAOrB,KAAcC,KAAeC,OAAsC;YAC5F,IAAI;gBACF,MAAMS,SAASC,OAAOZ,IAAIa,MAAM,CAACC,EAAE;gBACnC,MAAMI,WAAiBlB,IAAImB,IAAI;gBAC/B,MAAMG,iBAAuB,MAAM,IAAI,CAAC3B,IAAI,CAAC0B,UAAU,CAACV,QAAQO;gBAEhEjB,IAAII,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMe;oBAAgBd,SAAS;gBAAU;YAClE,EAAE,OAAOC,OAAO;gBACdP,KAAKO;YACP;QACF;QAEA,uBAAOc,cAAa,OAAOvB,KAAcC,KAAeC,OAAsC;YAC5F,IAAI;gBACF,MAAMS,SAASC,OAAOZ,IAAIa,MAAM,CAACC,EAAE;gBACnC,MAAMU,iBAAuB,MAAM,IAAI,CAAC7B,IAAI,CAAC4B,UAAU,CAACZ;gBAExDV,IAAII,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMiB;oBAAgBhB,SAAS;gBAAU;YAClE,EAAE,OAAOC,OAAO;gBACdP,KAAKO;YACP;QACF;;AACF"}